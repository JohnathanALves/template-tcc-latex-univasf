\chapter{Materiais e métodos}

\section{Caracterização da pesquisa}

Segundo \citeonline{marconi2003fundamentos}, a pesquisa é um procedimento
formal, com método de pensamento reflexivo, que requer um tratamento científico
e que se constitui no caminho para conhecer a realidade ou para descobrir
verdades parciais. A pesquisa é um procedimento sistemático e crítico,  que
permite descobrir novos fatos, relações ou leis acerca de qualquer campo do
conhecimento.

Uma pesquisa pode ser caracterizada segundo os seguintes critérios
\cite{gil2008metodos}:
\begin{enumerate}[label=\alph*)]
  \item Quanto à natureza: básica ou aplicada;
  \item Quanto aos objetivos: exploratória, descritiva ou explicativa;
  \item Quanto à abordagem: qualitativa ou quantitativa;
  \item Quanto aos procedimentos: documental, bibliográfica, experimental,
  levantamento, estudo de caso, entre outros.
\end{enumerate}

Este trabalho pode ser classificado como de natureza aplicada, já que será
adotada uma metodologia para busca de conhecimentos em bancos de dados e métodos
de classificação para prever a evasão de cursos EAD.

Em relação aos objetivos, podemos classificar este trabalho como pesquisa
exploratória e descritiva. Tendo como base \citeonline{gil2002elaborar}, a
pesquisa exploratória busca ampliar o conhecimento sobre o problema, procurando
torná-lo mais explícito ou a construção de hipóteses, tendo como objetivo
central o aperfeiçoamento de ideias ou a revelação de intuições. E a pesquisa
descritiva objetiva descrever características de determinado fenômeno ou
população. Este trabalho utiliza uma metodologia de exploração de conhecimento
para tentar prever um comportamento em um conjunto de uma população.

Quanto à abordagem, este trabalho é classificado como quantitativo, em razão da
utilização de algorítmos de DM, a partir dos quais serão extraídas as
características dos estudantes de EAD e aplicados modelos de classificação que
farão a devida categorização.

No quesito procedimentos, classificamos este trabalho como pesquisa
experimental. De acordo com \citeonline{gil2002elaborar}, a pesquisa
experimental consiste em determinar um objeto de estudo, selecionar as variáveis
que seriam capazes de influenciá-lo, definir as formas de controle e de
observação dos efeitos que a variável produz no objeto.

No caso deste trabalho, o objeto de estudo é a evasão na EAD da UNIVASF e as
variáveis foram definidas com base na TDT.

\section{Método}

Para tratamento e preparação dos dados para os diferentes modelos de
classificação que serão avaliados, foi utilizado KDD como descrito por
\citeonline{tan2009introduccao} e ilustrado na Figura \ref{reducedKdd}.

\imagem{.70}{reduced_kdd}{\label{reducedKdd}Fluxo básico do processo KDD.}{\citeonline{tan2009introduccao}}

As subseções seguintes descrevem como o processo KDD foi aplicado nesse
trabalho.

\subsection{Entrada de Dados}
\label{dataEntrySection}

A fase de entrada de dados foi desenvolvida, baseando-se no trabalho de
\citeonline{ramos2016abordagem}, coletando as variáveis mais relevantes que
poderiam representar cada um dos três construtos da TDT. Os dados das quais
foram retiradas as variáveis estão armazenados nas bases de dados do Sistema de
Gestão de Aprendizado Moodle\footnote{\url{https://moodle.org/} Acesso em: 06 de
mar. 2019}, atualmente, em uso pelos cursos de graduação oferecidos na
modalidade EAD pela UNIVASF. Os dados foram cedidos pela Secretaria de
Tecnologia da Informação (STI) da UNIVASF.

O Moodle é uma plataforma de ensino projetada para oferecer a educadores,
administradores e estudantes, com uma sistema integrado, simple e robusto, a
criação de ambientes de aprendizado personalizados. É financiado por uma rede de
mais de 80 empresas ao redor do mundo.

O banco de dados Moodle é grande e complexo, retendo informações sobre os
diversos componentes de uma sala de aula virtual como \textit{chats},
questionários \textit{online} e fóruns de discussão.

A depender da versão do Moodle, a quantidade de tabelas na base de dados pode
variar significativamente. A versão utilizada nesse trabalho possuía cerca de
430 tabelas. O Quadro \ref{moodleTableReferences} apresenta as tabelas
essenciais para a coleta dos dados utilizados nesse trabalho.

\begin{quadro}[!htb]
  \centering
  \caption{Descrição das principais tabelas do BD Moodle, onde foram coletados dados desse trabalho.}
  \label{moodleTableReferences}
  \begin{tabular}{|l|l|}
    \hline
    \multicolumn{1}{|c|}{\textbf{Tabela}} & \multicolumn{1}{c|}{\textbf{Descrição}} \\ \hline
    \textit{mdl\_assign} & \begin{tabular}[c]{@{}l@{}}Guarda informações sobre as atividades avaliativas\\ relacionadas com a produção de material pelos alunos em\\ cada disciplina.\end{tabular} \\ \hline
    \textit{mdl\_context} & \begin{tabular}[c]{@{}l@{}}Registra os níveis (contextos) de acesso de cada usuário, de\\ acordo com o seu perfil.\end{tabular} \\ \hline
    \textit{mdl\_course} & \begin{tabular}[c]{@{}l@{}}Tabela principal dos cursos, onde as disciplinas de cada curso\\ são registradas e configuradas.\end{tabular} \\ \hline
    \textit{mdl\_course\_categories} & \begin{tabular}[c]{@{}l@{}}Tabela auxiliar da \textit{mdl\_course}, onde são criadas as categorias\\ que podem representar cursos distintos (Biologia, Pedagogia\\ entre outros)\end{tabular} \\ \hline
    \textit{mdl\_forum} & \begin{tabular}[c]{@{}l@{}}Possui informações gerais de cada fórum criado nas\\ disciplinas.\end{tabular} \\ \hline
    \textit{mdl\_forum\_discussions} & Registra os tópicos criados em cada um dos fóruns. \\ \hline
    \textit{mdl\_forum\_posts} & \begin{tabular}[c]{@{}l@{}}Guarda as postagens dos alunos que são associadas aos\\ respectivos fóruns/tópicos.\end{tabular} \\ \hline
    \textit{mdl\_log} & \begin{tabular}[c]{@{}l@{}}Registra todas as ações dos usuários no ambiente. É a tabela\\ com maior número de registros.\end{tabular} \\ \hline
    \textit{mdl\_message\_read} & \begin{tabular}[c]{@{}l@{}}Armazena as mensagens que foram lidas pelos destinatários,\\ assim como o emissor e o receptor.\end{tabular} \\ \hline
    \textit{mdl\_role\_assignments} & \begin{tabular}[c]{@{}l@{}}Registros da atribuição de funções do usuário em contextos\\ diferentes.\end{tabular} \\ \hline
    \textit{mdl\_user} & Cadastro geral de usuários. \\ \hline
  \end{tabular}
  \Ididthis
\end{quadro}

Foram selecionados dois cursos dos quais foram extraídos os dados. O curso de
Bacharelado em Administração Pública com início no período letivo 2013.2 e
termino no período letivo 2017.1, contando com 285 estudantes e 41 disciplinas.
E o curso de Licenciatura em Pedagogia que ocorreu entre os períodos letivos de
2014.2 e 2018.1, com 160 estudantes e 39 disciplinas. A Tabela
\ref{courseInfoTable} apresenta um resumo dessas informações.

\begin{table}[!htb]
  \centering
  \caption{Resumo das informações dos cursos selecionados}
  \label{courseInfoTable}
  \begin{tabular}{@{}lrrrr@{}}
    \toprule
    \multicolumn{1}{c}{\textbf{Curso}} & \multicolumn{1}{c}{\textbf{Alunos}} & \multicolumn{1}{c}{\textbf{Disciplinas}} & \multicolumn{1}{c}{\textbf{\begin{tabular}[c]{@{}c@{}}Período \\ Inicial\end{tabular}}} & \multicolumn{1}{c}{\textbf{\begin{tabular}[c]{@{}c@{}}Período \\ Final\end{tabular}}} \\ \midrule
    \begin{tabular}[c]{@{}l@{}}Bacharelado em \\ Administração Pública\end{tabular} & 285 & 41 & 2013.2 & 2017.1 \\ \midrule
    Licenciatura em Pedagogia & 160 & 39 & 2014.2 & 2018.1 \\ \bottomrule
  \end{tabular}
  \Ididthis
\end{table}

Devido ao grande volume de dados foram elaborados \textit{scripts} em
\textit{Structured Query Language} (SQL) que geram tabelas auxiliares apenas com
dados dos das disciplinas contidas e alunos matrículados nos cursos selecionados
para esse trabalho. O Quadro \ref{reducedDataTables} apresenta e resume essas
tabelas auxiliares.

\begin{quadro}[!htb]
  \centering
  \caption{Descrição das tabelas criadas apenas com dados dos cursos selecionados}
  \label{reducedDataTables}
  \begin{tabular}{|l|l|}
    \hline
    \multicolumn{1}{|c|}{\textbf{Tabela}} & \multicolumn{1}{c|}{\textbf{Descrição}} \\ \hline
    \textit{adm} & \begin{tabular}[c]{@{}l@{}}Tabela base agrupando dados de cada aluno do curso \\ Bacharelado em Administração Pública em cada \\ disciplina em que ele cursou.\end{tabular} \\ \hline
    \textit{adm\_base\_log\_reduzido} & \begin{tabular}[c]{@{}l@{}}Tabela com registros de log dos alunos e cursos do curso\\ Bacharelado em Administração Pública.\end{tabular} \\ \hline
    \textit{adm\_disciplinas} & \begin{tabular}[c]{@{}l@{}}Registra o identificador das disciplinas do curso de\\ Bacharelado em Administração Pública, data de início \\ e data de fim.\end{tabular} \\ \hline
    \textit{adm\_id\_alunos} & \begin{tabular}[c]{@{}l@{}}Registra o identificador dos alunos matriculados no \\ curso de Bacharelado em Administração Pública.\end{tabular} \\ \hline
    \textit{lic\_ped} & \begin{tabular}[c]{@{}l@{}}Tabela base agrupando dados de cada aluno do curso \\ Licenciatura em Pedagogia em cada disciplina\\ em que ele cursou.\end{tabular} \\ \hline
    \textit{lic\_ped\_base\_log\_reduzido} & \begin{tabular}[c]{@{}l@{}}Tabela com registros de log dos alunos e cursos do curso\\ Licenciatura em Pedagogia.\end{tabular} \\ \hline
    \textit{lic\_ped\_disciplinas} & \begin{tabular}[c]{@{}l@{}}Registra o identificador das disciplinas do curso de\\ Licenciatura  em Pedagogia, data de início e data de fim.\end{tabular} \\ \hline
    \textit{lic\_ped\_id\_alunos} & \begin{tabular}[c]{@{}l@{}}Registra o identificador dos alunos matriculados no\\  curso de Licenciatura em Pedagogia.\end{tabular} \\ \hline
  \end{tabular}
  \Ididthis
\end{quadro}

As variáveis utilizadas nesse trabalho os construtos da TDT foram baseadas na
pesquisa de \citeonline{ramos2016abordagem}, que também extraiu dados de uma
instância do Moodle. No entanto, ao invés de utilizar todas as variáveis foram
utilizadas apenas a variáveis selecionados após a etapa de seleção de variáveis
realizada por Ramos. O Quadro \ref{variablesDescritionTable} descreve essas
variáveis e relaciona as mesmas com os construtos da TDT.

\begin{quadro}[!htb]
  \centering
  \caption{Lista das variáveis e respectivos construtos}
  \label{variablesDescritionTable}
  \begin{tabular}{|l|l|}
    \hline
    \multicolumn{1}{|c|}{\textbf{Variáveis}} & \textbf{Construto} \\ \hline
    Quantidade geral de postagens do aluno em fóruns, por disciplina. & DIÁLOGO \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade geral de mensagens enviadas pelo aluno\\ dentro do ambiente, por semestre.\end{tabular} & DIÁLOGO \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade geral de mensagens recebidas pelo aluno\\ dentro do ambiente, por semestre.\end{tabular} & DIÁLOGO \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade geral de recursos disponibilizados pelo professor\\ (página web, vídeo, pdfs, entre outros) por disciplina.\end{tabular} & ESTRUTURA \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de acessos do aluno ao ambiente por\\ turno (Manhã), por semestre.\end{tabular} & AUTONOMIA \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de acessos do aluno ao ambiente por\\ turno (Tarde), por semestre.\end{tabular} & AUTONOMIA \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de acessos do aluno ao ambiente por\\ turno (Noite), por semestre.\end{tabular} & AUTONOMIA \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de colegas diferentes para quem o aluno enviou\\ mensagens no ambiente, por semestre.\end{tabular} & DIÁLOGO \\ \hline
    Quantidade de acessos do aluno ao ambiente no semestre. & AUTONOMIA \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de mensagens enviadas pelo aluno aos \\ professores pelo ambiente, por semestre.\end{tabular} & DIÁLOGO \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de mensagens dos professores recebidas\\ pelo aluno no ambiente, por semestre.\end{tabular} & DIÁLOGO \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de mensagens de colegas recebidas pelo\\ aluno no ambiente, por semestre.\end{tabular} & DIÁLOGO \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de mensagens enviadas pelo aluno para\\ outros colegas no ambiente, por semestre.\end{tabular} & DIÁLOGO \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de atividades com prazos de resposta ou\\ envio definidos por professor, por disciplina.\end{tabular} & ESTRUTURA \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de acessos do aluno aos diferentes tipos \\ de atividades disponibilizadas (webquest, fórum, quiz,\\ entre outros), por disciplina.\end{tabular} & AUTONOMIA \\ \hline
    \begin{tabular}[c]{@{}l@{}}Quantidade de fóruns de discussão disponibilizados\\ sobre os conteúdos por disciplina.\end{tabular} & ESTRUTURA \\ \hline
    Quantidade de acessos do aluno aos fóruns, por disciplina. & AUTONOMIA \\ \hline
  \end{tabular}
  \Otherguydidthis{ramos2016abordagem}
\end{quadro}

Foram elaborados \textit{scripts} SQL que, baseando-se nas tabelas mencionadas
nos Quadros \ref{moodleTableReferences} e \ref{reducedDataTables}, constroem
tabelas com os dados brutos onde cada linha gerada representa um aluno em uma
disciplina e as variáveis mapeadas para os construtos da TDT. As tabelas geradas
serviram como base para as etapas seguintes do processo KDD.

\subsection{Pré-processamento}

Na etapa de pré-processamento de dados ocorrem as transformações e adaptações
dos dados para os algoritmos de Mineração de Dados. Entre essas transformações
podemos citar: normalização, limpeza de valores faltantes, identificação de
outliers, entre outros. Esta etapa, geralmente, exige muito tempo e esforço. A
correta execução deste passo resultará em melhores resultados nas etapas
posteriores.

No contexto deste trabalho, utilizaremos ferramentas de análises exploratórias e
\textit{scripts} de buscas em bancos de dados para construção da base de dados a
ser utilizada na etapa posterior.

Em seguida, ocorre a etapa de mineração de dados, onde são buscados padrões de
interesse ou características que representem as tendências dos dados, entre os
métodos de busca de padrões podemos citar: clusterização, classificação,
regressão, entre outros.

Para este trabalho, utilizaremos os algoritmos de classificação a seguir: Árvore
de Decisão, KNN, e Regressão Logística. Nesta etapa, os parâmetros dos
algoritmos de classificação serão ajustados para que a performance dos mesmos
seja melhorada.

Na última etapa, pós-processamento, serão avaliados e interpretados os padrões
extraídos na etapa de mineração, podem ocorrer retornos a qualquer etapa
anterior para mais iterações. Esta etapa pode envolver a visualização dos
padrões e modelos gerados, ou visualização dos dados fornecidos. Neste passo, o
conhecimento descoberto será documentado para possível uso posterior, em uma
ferramenta de geração de relatórios ou de visualização, tipo dashboard.

\section{Materiais}

\subsection{MySQL}

MySQL\footnote{\url{https://www.mysql.com/} Acesso em: 06 de mar. 2019} é a base
de dados mais popular no mundo. Provê performance, confiabilidade e facilidade
de uso, MySQL vem liderando a escolha de aplicações web, usado por grandes
empresas na internet como: Facebook, Twitter, YouTube, Yahoo! e muitas outras.

MySQL é sistema de gerenciamento de banco de dados (SGDB), baseado na linguagem
SQL (do inglês, Structured Query Language). Entre as vantagens suas vantagens
podemos listar: portabilidade, compatibilidade, excelente desempenho e
estabilidade, facilidade de manuseio e é um software livre sob a licença GPL.

\subsection{Python}

Python\footnote{\url{https://www.python.org/} Acesso em: 06 de mar. 2019} é uma
linguagem de programação de código aberto classificada como linguagem de alto
nível de abstração. Considerada de fácil manuseio mesmo por usuários iniciantes.
É mantida e desenvolvida pela Python Software Foundation

Graças a sua enorme comunidade, existem diversos pacotes e bibliotecas
desenvolvidas em Python para as mais variadas tarefas, desde servidores HTTP,
desenvolvimento de aplicações desktop até mineração de dados, inteligência
artificial e estatística.

\subsection{Anaconda Python Distribution}

A distribuição de código aberto
Anaconda\footnote{\url{https://www.anaconda.com/} Acesso em: 06 de mar. 2019}  é
uma maneira fácil de realizar tarefas de mineração de dados e aprendizado de
máquina em ambientes Linux, Windows ou Mac OS X. Anaconda é um gerenciador de
pacotes e ambientes e uma distribuição Python especializada em data science com
mais de 1500 pacotes de código aberto.

\subsection{Jupyter Notebook}

Jupyter Notebook\footnote{\url{https://jupyter.org/} Acesso em: 06 de mar. 2019}
é uma aplicação web de código aberto que permite a criação e compartilhamento de
documentos que contém código em tempo de execução, equações, visualizações e
textos narrativos. Funciona como uma IDE (do inglês, Integrated Development
Environment) e foi desenvolvido para tarefas de limpeza e transformação de
dados, simulações numéricas, modelagem estatística, visualização de dados,
aprendizado de máquina e mais.

Jupyter Notebook suporta mais de 40 linguagens de programação incluindo Python e
já vem pré configurado na distribuição Anaconda.

\subsection{Python Data Analysis Library}

Python Data Analysis Library\footnote{\url{https://pandas.pydata.org/} Acesso
em: 06 de mar. 2019}, ou simplesmente pandas, é uma biblioteca de código aberto
sob a licença BSD que provê estruturas de dados e ferramentas de análise de
dados de alta performance e fácil uso para a linguagem de programação Python.
Pandas proporciona estruturas de dados rápidas, flexíveis e expressivas
desenvolvidas para uso com dados relacionais ou etiquetados.

A biblioteca pandas já vem configurada para uso na distribuição Anaconda.

\subsection{Numpy}

NumPy\footnote{\url{http://www.numpy.org/} Acesso em: 06 de mar. 2019} é o
pacote fundamental para computação científica em Python. Contento, além de outra
funcionalidades, um poderoso vetor n-dimensional, funções de broadcast
sofisticadas, ferramentas de integração com códigos C/C++ e Fortran, ferramentas
de algebra linear, transformadas de Fourier e números aleatórios.

Além dos óbvios usos científicos, NumPy também pode ser usado como um invólucro
para dados genéricos. Tipos de dados arbitrários podem ser definidos, isso
permite que  seja integrado de forma rápida com uma miríade de bases de dados.

NumPy é uma biblioteca de código aberto sob a licença BSD e é presente na
distribuição Anaconda.

\subsection{Scikit-learn}

Scikit-learn\footnote{\url{https://scikit-learn.org/} Acesso em: 06 de mar.
2019} é um módulo Python para aprendizado de máquina de código aberto sob a
licença BSD. Além das principais tarefas de mineração, como: classificação,
regressão e clusterização a biblioteca proporciona as visualizações mais básicas
para análise exploratória. Scikit-learn é compatível com pandas e NumPy e pode
ser encontrado na distribuição Anaconda.
